{"last_node_id": 35, "last_link_id": 58, "nodes": [{"id": 19, "type": "ControlNetLoader", "pos": [120, 340], "size": {"0": 315, "1": 58}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [32], "slot_index": 0, "shape": 3, "label": "ControlNet"}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["control_v11p_sd15_openpose.pth"]}, {"id": 21, "type": "CLIPTextEncode", "pos": [460, 360], "size": {"0": 250, "1": 120}, "flags": {}, "order": 7, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 27, "label": "CLIP"}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [31], "slot_index": 0, "shape": 3, "label": "\u6761\u4ef6"}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": [""]}, {"id": 23, "type": "ACN_AdvancedControlNetApply", "pos": [730, 200], "size": {"0": 285.6000061035156, "1": 286}, "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 30, "label": "\u6b63\u9762\u6761\u4ef6"}, {"name": "negative", "type": "CONDITIONING", "link": 31, "label": "\u8d1f\u9762\u6761\u4ef6"}, {"name": "control_net", "type": "CONTROL_NET", "link": 32, "label": "ControlNet"}, {"name": "image", "type": "IMAGE", "link": 33, "label": "\u56fe\u50cf"}, {"name": "mask_optional", "type": "MASK", "link": null, "label": "\u906e\u7f69"}, {"name": "timestep_kf", "type": "TIMESTEP_KEYFRAME", "link": null, "label": "\u5e27\u95f4\u9694"}, {"name": "latent_kf_override", "type": "LATENT_KEYFRAME", "link": null, "label": "\u8986\u76d6Latent\u5173\u952e\u5e27"}, {"name": "weights_override", "type": "CONTROL_NET_WEIGHTS", "link": null, "label": "\u8986\u76d6ControlNet\u6743\u91cd"}, {"name": "model_optional", "type": "MODEL", "link": 36, "label": "\u6a21\u578b(\u53ef\u9009)"}, {"name": "vae_optional", "type": "VAE", "link": null}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [38], "slot_index": 0, "shape": 3, "label": "\u6b63\u9762\u6761\u4ef6"}, {"name": "negative", "type": "CONDITIONING", "links": [39], "slot_index": 1, "shape": 3, "label": "\u8d1f\u9762\u6761\u4ef6"}, {"name": "model_opt", "type": "MODEL", "links": [37], "slot_index": 2, "shape": 3}], "properties": {"Node name for S&R": "ACN_AdvancedControlNetApply"}, "widgets_values": [1, 0, 1, ""]}, {"id": 28, "type": "VHS_VAEDecodeBatched", "pos": [1040, 510], "size": {"0": 315, "1": 78}, "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 44, "label": "Latent"}, {"name": "vae", "type": "VAE", "link": 45, "label": "VAE"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [46], "slot_index": 0, "shape": 3, "label": "\u56fe\u50cf"}], "properties": {"Node name for S&R": "VHS_VAEDecodeBatched"}, "widgets_values": {"per_batch": 4}}, {"id": 33, "type": "ADE_EmptyLatentImageLarge", "pos": [1040, 80], "size": {"0": 310.79998779296875, "1": 74}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "width", "type": "INT", "link": 53, "widget": {"name": "width"}, "label": "\u5bbd\u5ea6"}, {"name": "height", "type": "INT", "link": 54, "widget": {"name": "height"}, "label": "\u9ad8\u5ea6"}, {"name": "batch_size", "type": "INT", "link": 55, "widget": {"name": "batch_size"}, "label": "\u6279\u6b21\u5927\u5c0f"}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [56], "slot_index": 0, "shape": 3, "label": "Latent"}], "properties": {"Node name for S&R": "ADE_EmptyLatentImageLarge"}, "widgets_values": [512, 512, 1]}, {"id": 29, "type": "VHS_VideoCombine", "pos": [1370, 200], "size": [320, 840.8450704225352], "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 46, "label": "\u56fe\u50cf"}, {"name": "audio", "type": "AUDIO", "link": 47, "label": "\u97f3\u9891"}, {"name": "meta_batch", "type": "VHS_BatchManager", "link": null, "label": "\u6279\u6b21\u7ba1\u7406"}, {"name": "frame_rate", "type": "*", "link": 50, "widget": {"name": "frame_rate"}, "label": "\u5e27\u7387"}], "outputs": [{"name": "Filenames", "type": "VHS_FILENAMES", "links": null, "shape": 3, "label": "\u6587\u4ef6\u540d"}], "properties": {"Node name for S&R": "VHS_VideoCombine"}, "widgets_values": {"frame_rate": 16, "loop_count": 0, "filename_prefix": "AnimateDiff", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": false, "pingpong": false, "save_output": true, "videopreview": {"hidden": false, "paused": false, "params": {"filename": "AnimateDiff_00006-audio.mp4", "subfolder": "", "type": "output", "format": "video/h264-mp4", "frame_rate": 16}}}}, {"id": 31, "type": "ADE_StandardStaticContextOptions", "pos": [120, 720], "size": {"0": 319.20001220703125, "1": 198}, "flags": {}, "order": 2, "mode": 0, "inputs": [{"name": "prev_context", "type": "CONTEXT_OPTIONS", "link": null, "slot_index": 0, "label": "\u524d\u4e0a\u4e0b\u6587"}, {"name": "view_opts", "type": "VIEW_OPTS", "link": null, "label": "\u89c6\u56fe\u8bbe\u7f6e"}], "outputs": [{"name": "CONTEXT_OPTS", "type": "CONTEXT_OPTIONS", "links": [51], "shape": 3, "label": "\u4e0a\u4e0b\u6587\u8bbe\u7f6e"}], "properties": {"Node name for S&R": "ADE_StandardStaticContextOptions"}, "widgets_values": [16, 4, "pyramid", false, 0, 1]}, {"id": 20, "type": "CLIPTextEncode", "pos": [460, 190], "size": {"0": 250, "1": 120}, "flags": {}, "order": 6, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 26, "label": "CLIP"}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [30], "slot_index": 0, "shape": 3, "label": "\u6761\u4ef6"}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["A beautiful girl dancing, pink long hair, city street, tall buildings."]}, {"id": 35, "type": "ADE_AnimateDiffSamplingSettings", "pos": [120, 970], "size": {"0": 315, "1": 234}, "flags": {}, "order": 3, "mode": 0, "inputs": [{"name": "noise_layers", "type": "NOISE_LAYERS", "link": null, "label": "\u566a\u6ce2\u5c42"}, {"name": "iteration_opts", "type": "ITERATION_OPTS", "link": null, "label": "\u8fed\u4ee3\u8bbe\u7f6e"}, {"name": "seed_override", "type": "INT", "link": null, "widget": {"name": "seed_override"}, "label": "\u8986\u76d6\u968f\u673a\u79cd"}, {"name": "sigma_schedule", "type": "SIGMA_SCHEDULE", "link": null, "label": "Sigma\u8c03\u5ea6"}, {"name": "image_inject", "type": "IMAGE_INJECT", "link": null}], "outputs": [{"name": "settings", "type": "SAMPLE_SETTINGS", "links": [58], "shape": 3, "label": "\u91c7\u6837\u8bbe\u7f6e"}], "properties": {"Node name for S&R": "ADE_AnimateDiffSamplingSettings"}, "widgets_values": [0, "FreeNoise", "comfy", 0, 0, false, ""]}, {"id": 15, "type": "Image Resize", "pos": [-560, 440], "size": {"0": 315, "1": 178}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 23, "label": "\u56fe\u50cf"}, {"name": "resize_width", "type": "INT", "link": 13, "widget": {"name": "resize_width"}, "label": "\u62c9\u4f38\u5bbd\u5ea6"}, {"name": "resize_height", "type": "INT", "link": 14, "widget": {"name": "resize_height"}, "label": "\u62c9\u4f38\u9ad8\u5ea6"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [25, 33], "slot_index": 0, "shape": 3, "label": "\u56fe\u50cf"}], "properties": {"Node name for S&R": "Image Resize"}, "widgets_values": ["resize", "false", "bilinear", 1, 1024, 1536]}, {"id": 14, "type": "ImageGenResolutionFromImage", "pos": [-810, 90], "size": {"0": 268.79998779296875, "1": 46}, "flags": {}, "order": 9, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 12, "label": "\u56fe\u50cf"}], "outputs": [{"name": "IMAGE_GEN_WIDTH (INT)", "type": "INT", "links": [13, 53], "slot_index": 0, "shape": 3, "label": "\u5bbd\u5ea6(\u6574\u6570)"}, {"name": "IMAGE_GEN_HEIGHT (INT)", "type": "INT", "links": [14, 54], "slot_index": 1, "shape": 3, "label": "\u9ad8\u5ea6(\u6574\u6570)"}], "properties": {"Node name for S&R": "ImageGenResolutionFromImage"}}, {"id": 13, "type": "VHS_VideoCombine", "pos": [-220, 190], "size": [315, 831.830985915493], "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 25, "label": "\u56fe\u50cf"}, {"name": "audio", "type": "AUDIO", "link": 48, "label": "\u97f3\u9891"}, {"name": "meta_batch", "type": "VHS_BatchManager", "link": null, "label": "\u6279\u6b21\u7ba1\u7406"}, {"name": "frame_rate", "type": "*", "link": 49, "widget": {"name": "frame_rate"}, "label": "\u5e27\u7387"}], "outputs": [{"name": "Filenames", "type": "VHS_FILENAMES", "links": null, "shape": 3, "label": "\u6587\u4ef6\u540d"}], "properties": {"Node name for S&R": "VHS_VideoCombine"}, "widgets_values": {"frame_rate": 16, "loop_count": 0, "filename_prefix": "AnimateDiff", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": false, "pingpong": false, "save_output": true, "videopreview": {"hidden": false, "paused": false, "params": {"filename": "AnimateDiff_00004-audio.mp4", "subfolder": "", "type": "output", "format": "video/h264-mp4", "frame_rate": 16}}}}, {"id": 30, "type": "PrimitiveNode", "pos": [-799, 972], "size": {"0": 210, "1": 82}, "flags": {}, "order": 4, "mode": 0, "outputs": [{"name": "FLOAT", "type": "FLOAT", "links": [49, 50], "slot_index": 0, "widget": {"name": "frame_rate"}}], "properties": {"Run widget replace on values": false}, "widgets_values": [16, "fixed"]}, {"id": 17, "type": "DWPreprocessor", "pos": [-560, 200], "size": {"0": 315, "1": 198}, "flags": {}, "order": 10, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 21, "label": "\u56fe\u50cf"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [23], "slot_index": 0, "shape": 3, "label": "\u56fe\u50cf"}, {"name": "POSE_KEYPOINT", "type": "POSE_KEYPOINT", "links": null, "shape": 3, "label": "\u59ff\u6001\u5173\u952e\u70b9"}], "properties": {"Node name for S&R": "DWPreprocessor"}, "widgets_values": ["enable", "enable", "enable", 256, "yolox_l.onnx", "dw-ll_ucoco.onnx"]}, {"id": 10, "type": "VHS_LoadVideo", "pos": [-1025, 151], "size": [240, 695.1851851851852], "flags": {}, "order": 5, "mode": 0, "inputs": [{"name": "meta_batch", "type": "VHS_BatchManager", "link": null, "label": "\u6279\u6b21\u7ba1\u7406"}, {"name": "vae", "type": "VAE", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [12, 21], "slot_index": 0, "shape": 3, "label": "\u56fe\u50cf"}, {"name": "frame_count", "type": "INT", "links": [55], "slot_index": 1, "shape": 3, "label": "\u5e27\u8ba1\u6570"}, {"name": "audio", "type": "AUDIO", "links": [47, 48], "slot_index": 2, "shape": 3, "label": "\u97f3\u9891"}, {"name": "video_info", "type": "VHS_VIDEOINFO", "links": null, "shape": 3, "label": "\u89c6\u9891\u4fe1\u606f"}], "properties": {"Node name for S&R": "VHS_LoadVideo"}, "widgets_values": {"video": "8\u670831\u65e5 (1).mp4", "force_rate": 0, "force_size": "Custom Height", "custom_width": 512, "custom_height": 1024, "frame_load_cap": 0, "skip_first_frames": 0, "select_every_nth": 1, "choose video to upload": "image", "videopreview": {"hidden": false, "paused": false, "params": {"frame_load_cap": 0, "skip_first_frames": 0, "force_rate": 0, "filename": "8\u670831\u65e5 (1).mp4", "type": "input", "format": "video/mp4", "select_every_nth": 1, "force_size": "?x1024"}}}}, {"id": 24, "type": "ADE_AnimateDiffLoaderGen1", "pos": [120, 450], "size": {"0": 315, "1": 242}, "flags": {}, "order": 8, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 35, "label": "\u6a21\u578b"}, {"name": "context_options", "type": "CONTEXT_OPTIONS", "link": 51, "slot_index": 1, "label": "\u4e0a\u4e0b\u6587\u8bbe\u7f6e"}, {"name": "motion_lora", "type": "MOTION_LORA", "link": null, "label": "\u52a8\u6001LoRA"}, {"name": "ad_settings", "type": "AD_SETTINGS", "link": null, "label": "AD\u8bbe\u7f6e"}, {"name": "ad_keyframes", "type": "AD_KEYFRAMES", "link": null, "label": "AD\u5173\u952e\u5e27"}, {"name": "sample_settings", "type": "SAMPLE_SETTINGS", "link": 58, "slot_index": 5, "label": "\u91c7\u6837\u8bbe\u7f6e"}, {"name": "scale_multival", "type": "MULTIVAL", "link": null, "label": "\u7f29\u653e\u591a\u503c"}, {"name": "effect_multival", "type": "MULTIVAL", "link": null, "label": "\u6548\u679c\u591a\u503c"}, {"name": "per_block", "type": "PER_BLOCK", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [36], "slot_index": 0, "shape": 3, "label": "\u6a21\u578b"}], "properties": {"Node name for S&R": "ADE_AnimateDiffLoaderGen1"}, "widgets_values": ["animatediff_lightning_8step_comfyui.safetensors", "sqrt_linear (AnimateDiff)"]}, {"id": 25, "type": "KSampler", "pos": [1040, 200], "size": {"0": 315, "1": 262}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 37, "label": "\u6a21\u578b"}, {"name": "positive", "type": "CONDITIONING", "link": 38, "label": "\u6b63\u9762\u6761\u4ef6"}, {"name": "negative", "type": "CONDITIONING", "link": 39, "label": "\u8d1f\u9762\u6761\u4ef6"}, {"name": "latent_image", "type": "LATENT", "link": 56, "label": "Latent"}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [44], "slot_index": 0, "shape": 3, "label": "Latent"}], "properties": {"Node name for S&R": "KSampler"}, "widgets_values": [46869281692598, "randomize", 8, 1, "euler", "sgm_uniform", 1]}, {"id": 18, "type": "CheckpointLoaderSimple", "pos": [120, 190], "size": {"0": 315, "1": 98}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [35], "slot_index": 0, "shape": 3, "label": "\u6a21\u578b"}, {"name": "CLIP", "type": "CLIP", "links": [26, 27], "slot_index": 1, "shape": 3, "label": "CLIP"}, {"name": "VAE", "type": "VAE", "links": [45], "slot_index": 2, "shape": 3, "label": "VAE"}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["toonyou_beta6.safetensors"]}], "links": [[12, 10, 0, 14, 0, "IMAGE"], [13, 14, 0, 15, 1, "INT"], [14, 14, 1, 15, 2, "INT"], [21, 10, 0, 17, 0, "IMAGE"], [23, 17, 0, 15, 0, "IMAGE"], [25, 15, 0, 13, 0, "IMAGE"], [26, 18, 1, 20, 0, "CLIP"], [27, 18, 1, 21, 0, "CLIP"], [30, 20, 0, 23, 0, "CONDITIONING"], [31, 21, 0, 23, 1, "CONDITIONING"], [32, 19, 0, 23, 2, "CONTROL_NET"], [33, 15, 0, 23, 3, "IMAGE"], [35, 18, 0, 24, 0, "MODEL"], [36, 24, 0, 23, 8, "MODEL"], [37, 23, 2, 25, 0, "MODEL"], [38, 23, 0, 25, 1, "CONDITIONING"], [39, 23, 1, 25, 2, "CONDITIONING"], [44, 25, 0, 28, 0, "LATENT"], [45, 18, 2, 28, 1, "VAE"], [46, 28, 0, 29, 0, "IMAGE"], [47, 10, 2, 29, 1, "VHS_AUDIO"], [48, 10, 2, 13, 1, "VHS_AUDIO"], [49, 30, 0, 13, 3, "INT"], [50, 30, 0, 29, 3, "INT"], [51, 31, 0, 24, 1, "CONTEXT_OPTIONS"], [53, 14, 0, 33, 0, "INT"], [54, 14, 1, 33, 1, "INT"], [55, 10, 1, 33, 2, "INT"], [56, 33, 0, 25, 3, "LATENT"], [58, 35, 0, 24, 5, "SAMPLE_SETTINGS"]], "groups": [], "config": {}, "extra": {"ds": {"scale": 0.8264462809917354, "offset": [1134.7263924435888, 60.806629858885174]}}, "version": 0.4}